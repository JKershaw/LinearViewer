# Linear Projects Viewer

> A minimal web app that displays Linear projects and issues as a collapsible tree with a CLI aesthetic.

## Overview

- Syncs with Linear via OAuth
- Supports multiple workspaces
- Displays projects and issues in a tree structure with box-drawing characters

## Navigation

- **Workspace selector**: `workspace: {name}` in nav bar - click to switch
- **Team filter**: `team: {name}` in nav bar - filter issues by team
- **Expand/collapse**: Click task row or ▶/▼ arrow
- **Project collapse**: Click project header
- **Reset**: Click "reset" to restore default view state

## Status Indicators

- ○ (todo) - `data-status="todo"` - Not started
- ◐ (in-progress) - `data-status="in-progress"` - In progress
- ✓ (done) - `data-status="done"` - Completed

## DOM Structure

### Landmarks
- `main` - main content area
- `[role="region"][aria-label="In Progress Tasks"]` - in-progress section
- `[role="region"][aria-label="Projects"]` - projects section

### Node Container Structure
Issues are wrapped in nested `.node` containers:
```
.node[data-id="{id}"]           - node container
  .line[data-id="{id}"]         - task row (clickable)
  .details[data-details-for]    - details panel (hidden by default)
  .children                     - container for nested child nodes
    .node[data-id="{child-id}"] - child node (same structure)
```

### Task Selectors
Both In Progress and Projects sections use the same nested structure:
- `.node[data-id="{id}"]` - node container wrapping line, details, and children
- `.node > .line` - task row element within a node
- `.node > .details` - details panel (sibling of .line within same node)
- `.node > .children` - container for nested child nodes
- `[data-id="{linear-issue-id}"]` - task by Linear issue ID (on both .node and .line)
- `[data-status="todo|in-progress|done"]` - filter by status
- `[data-section="in-progress|project"]` - scope to section (expand state is independent per section)
- `[data-parent="{id}"]` - parent ID (on .line element)
- `[data-depth="{n}"]` - nesting level (0 = top-level, on .line element)
- `.expandable` - tasks that can be clicked to expand
- `.in-progress-project` - project name badge shown in brackets for In Progress items

### Traversing the Tree
- Find node by ID: `.node[data-id="{id}"]`
- Find node's details: `.node[data-id="{id}"] > .details`
- Find node's direct children: `.node[data-id="{id}"] > .children > .node`
- Find all descendants: `.node[data-id="{id}"] .node`

### Project Selectors
- `.project[data-id="{project-id}"]` - project container
- `.project-header` - clickable project header
- `[data-completed-for="{project-id}"]` - completed tasks section

### Navigation Selectors
- `#workspace-toggle` - workspace dropdown button
- `#team-toggle` - team dropdown button
- `#workspace-options` - workspace dropdown panel
- `#team-options` - team dropdown panel
- `[data-team="{id}"]` - team filter option (use "all" for all teams)
- `.reset-view` - reset button

### Interactive Elements
- `.toggle` - expand/collapse arrow (▶/▼)
- `.in-progress-header` - collapsible section header

## Common Workflows

1. **Find in-progress tasks**: Look in "In Progress" section at top (displays as tree with subtasks)
2. **Drill into project**: Click project header to expand, click task to see details
3. **Expand subtasks**: Click parent task or ▶ arrow to show child tasks (works in both sections)
4. **Filter by team**: Use team selector in nav bar
5. **Open in Linear**: Expand task details, click "View in Linear →"

## Limitations

- Read-only view (no editing tasks)
- Logout requires re-authentication via Linear OAuth
- Expand/collapse state persists in localStorage (reset restores defaults)
- Team filter selection persists in localStorage across sessions
- Landing page shows static demo data for unauthenticated users
